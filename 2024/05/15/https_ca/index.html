

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Jon">
  <meta name="keywords" content="">
  
    <meta name="description" content="Posthttps:&#x2F;&#x2F;jsonplaceholder.typicode.com&#x2F;posts request 12345:method: POST:path: &#x2F;posts:authority: jsonplaceholder.typicode.com:scheme: httpscontent-type: application&#x2F;x-www-form-urlencodedcontent-lengt">
<meta property="og:type" content="article">
<meta property="og:title" content="http_ca">
<meta property="og:url" content="https://noteforme.github.io/2024/05/15/https_ca/index.html">
<meta property="og:site_name" content="Jon&#39;s Blog">
<meta property="og:description" content="Posthttps:&#x2F;&#x2F;jsonplaceholder.typicode.com&#x2F;posts request 12345:method: POST:path: &#x2F;posts:authority: jsonplaceholder.typicode.com:scheme: httpscontent-type: application&#x2F;x-www-form-urlencodedcontent-lengt">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-05-15T07:08:40.000Z">
<meta property="article:modified_time" content="2025-03-25T14:19:22.633Z">
<meta property="article:author" content="Jon">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>http_ca - Jon&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"noteforme.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Fluid</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="http_ca"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-05-15 15:08" pubdate>
          May 15, 2024 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          952 words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          8 mins
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">http_ca</h1>
            
            
              <div class="markdown-body">
                
                <h2 id="Post"><a href="#Post" class="headerlink" title="Post"></a>Post</h2><p><a target="_blank" rel="noopener" href="https://jsonplaceholder.typicode.com/posts">https://jsonplaceholder.typicode.com/posts</a></p>
<p>request</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-meta">:method:</span> POST<br><span class="hljs-meta">:path:</span> /posts<br><span class="hljs-meta">:authority:</span> jsonplaceholder.typicode.com<br><span class="hljs-meta">:scheme:</span> httpscontent-type: application/x-www-form-urlencodedcontent-length: 42<br>accept-encoding: gzipuser-agent: okhttp/5.0.0-SNAPSHOT<br></code></pre></td></tr></table></figure>

<p>response</p>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs llvm">:status: <span class="hljs-number">201</span><br><span class="hljs-symbol">date:</span> Wed<span class="hljs-punctuation">,</span> <span class="hljs-number">17</span> Apr <span class="hljs-number">2024</span> <span class="hljs-number">06</span>:<span class="hljs-number">45</span>:<span class="hljs-number">30</span> GMTcontent-<span class="hljs-keyword">type</span>: application/json<span class="hljs-comment">; charset=utf-8</span><br>content-length: <span class="hljs-number">82</span><br><span class="hljs-symbol">location:</span> https://jsonplaceholder.typicode.com/posts/<span class="hljs-number">101</span><br>report-<span class="hljs-keyword">to</span>: &#123;<span class="hljs-string">&quot;group&quot;</span>:<span class="hljs-string">&quot;heroku-nel&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-string">&quot;max_age&quot;</span>:<span class="hljs-number">3600</span><span class="hljs-punctuation">,</span><span class="hljs-string">&quot;endpoints&quot;</span>:[&#123;<span class="hljs-string">&quot;url&quot;</span>:<span class="hljs-string">&quot;https://nel.heroku.com/reports?ts=1713336330&amp;sid=e11707d5-02a7-43ef-b45e-2cf4d2036f7d&amp;s=Hua%2F7slOIpUhGTDPNaKu4xbP%2Bjuwplp9ehOh7C014ok%3D&quot;</span>&#125;]&#125;<br>reporting-endpoints: heroku-nel<span class="hljs-operator">=</span>https://nel.heroku.com/reports?ts<span class="hljs-operator">=</span><span class="hljs-number">1713336330</span>&amp;sid<span class="hljs-operator">=</span>e<span class="hljs-number">11707</span>d<span class="hljs-number">5</span><span class="hljs-number">-02</span>a<span class="hljs-number">7</span><span class="hljs-number">-43</span>ef-b<span class="hljs-number">45e-2</span>cf<span class="hljs-number">4</span>d<span class="hljs-number">2036</span>f<span class="hljs-number">7</span>d&amp;s<span class="hljs-operator">=</span>Hua<span class="hljs-variable">%2</span>F<span class="hljs-number">7</span>slOIpUhGTDPNaKu<span class="hljs-number">4</span>xbP<span class="hljs-variable">%2</span>Bjuwplp<span class="hljs-number">9</span>ehOh<span class="hljs-number">7</span>C<span class="hljs-number">014</span>ok<span class="hljs-variable">%3</span>D<br><span class="hljs-symbol">nel:</span> &#123;<span class="hljs-string">&quot;report_to&quot;</span>:<span class="hljs-string">&quot;heroku-nel&quot;</span><span class="hljs-punctuation">,</span><span class="hljs-string">&quot;max_age&quot;</span>:<span class="hljs-number">3600</span><span class="hljs-punctuation">,</span><span class="hljs-string">&quot;success_fraction&quot;</span>:<span class="hljs-number">0.005</span><span class="hljs-punctuation">,</span><span class="hljs-string">&quot;failure_fraction&quot;</span>:<span class="hljs-number">0.05</span><span class="hljs-punctuation">,</span><span class="hljs-string">&quot;response_headers&quot;</span>:[<span class="hljs-string">&quot;Via&quot;</span>]&#125;<br><span class="hljs-keyword">x</span>-powered-by: Express<br><span class="hljs-keyword">x</span>-ratelimit-limit: <span class="hljs-number">1000</span><br><span class="hljs-keyword">x</span>-ratelimit-remaining: <span class="hljs-number">999</span><br><span class="hljs-keyword">x</span>-ratelimit-reset: <span class="hljs-number">1713336348</span><br><span class="hljs-symbol">vary:</span> Origin<span class="hljs-punctuation">,</span> X-HTTP-Method-Override<span class="hljs-punctuation">,</span> Accept-Encoding<br>access-control-allow-credentials: <span class="hljs-keyword">true</span><br>cache-control: no-cachepragma: no-cacheexpires: <span class="hljs-number">-1</span><br>access-control-expose-headers: Location<br><span class="hljs-keyword">x</span>-content-<span class="hljs-keyword">type</span>-options: nosniffetag: W/<span class="hljs-string">&quot;52-HKy3Gu5DcI5r2jj3f8TQwnYvlDs&quot;</span><br><span class="hljs-symbol">via:</span> <span class="hljs-number">1.1</span> vegurcf-cache-status: DYNAMICserver: cloudflarecf-ray: <span class="hljs-number">875</span>a<span class="hljs-number">73</span>ddee<span class="hljs-number">780484</span>-HKGalt-svc: h<span class="hljs-number">3</span><span class="hljs-operator">=</span><span class="hljs-string">&quot;:443&quot;</span><span class="hljs-comment">; ma=86400</span><br></code></pre></td></tr></table></figure>

<h2 id="GET"><a href="#GET" class="headerlink" title="GET"></a>GET</h2><p><a target="_blank" rel="noopener" href="https://api.github.com/repos/square/okhttp/contributors">https://api.github.com/repos/square/okhttp/contributors</a></p>
<p>Request</p>
<figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc"><span class="hljs-meta">:method:</span> GET<br><span class="hljs-meta">:path:</span> /repos/square/okhttp/contributors<br><span class="hljs-meta">:authority:</span> api.github.com<br><span class="hljs-meta">:scheme:</span> httpsaccept-encoding: gzipuser-agent: okhttp/5.0.0-SNAPSHOT<br></code></pre></td></tr></table></figure>

<p>Response</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">:status: <span class="hljs-number">200</span><br><span class="hljs-keyword">server</span>: GitHub.comdate: Wed, <span class="hljs-number">17</span> Apr <span class="hljs-number">2024</span> <span class="hljs-number">06</span>:<span class="hljs-number">58</span>:<span class="hljs-number">41</span> GMTcontent-<span class="hljs-keyword">type</span>: application/<span class="hljs-type">json</span>; charset=utf<span class="hljs-number">-8</span><br><span class="hljs-keyword">cache</span>-control: public, max-age=<span class="hljs-number">60</span>, s-maxage=<span class="hljs-number">60</span><br>vary: Accept, Accept-<span class="hljs-keyword">Encoding</span>, Accept, X-Requested-<span class="hljs-keyword">With</span><br>etag: W/&quot;699b092aa0b0980f1b2f2bde5e810a75c5c1921ee2f53c4d9f28fc8ea5fca327&quot;<br>last-modified: Wed, <span class="hljs-number">17</span> Apr <span class="hljs-number">2024</span> <span class="hljs-number">02</span>:<span class="hljs-number">18</span>:<span class="hljs-number">24</span> GMTx-github-media-<span class="hljs-keyword">type</span>: github.v3; <span class="hljs-keyword">format</span>=jsonlink: &lt;https://api.github.com/repositories/<span class="hljs-number">5152285</span>/contributors?page=<span class="hljs-number">2</span>&gt;; rel=&quot;next&quot;, &lt;https://api.github.com/repositories/<span class="hljs-number">5152285</span>/contributors?page=<span class="hljs-number">9</span>&gt;; rel=&quot;last&quot;<br>x-github-api-<span class="hljs-keyword">version</span>-selected: <span class="hljs-number">2022</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span><br><span class="hljs-keyword">access</span>-control-expose-headers: ETag, Link, <span class="hljs-keyword">Location</span>, Retry-<span class="hljs-keyword">After</span>, X-GitHub-OTP, X-RateLimit-<span class="hljs-keyword">Limit</span>, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-<span class="hljs-keyword">Reset</span>, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-<span class="hljs-type">Interval</span>, X-GitHub-Media-<span class="hljs-keyword">Type</span>, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset<br><span class="hljs-keyword">access</span>-control-allow-origin: *<br><span class="hljs-keyword">strict</span>-transport-<span class="hljs-keyword">security</span>: max-age=<span class="hljs-number">31536000</span>; includeSubdomains; preloadx-frame-<span class="hljs-keyword">options</span>: denyx-content-<span class="hljs-keyword">type</span>-<span class="hljs-keyword">options</span>: nosniffx-xss-protection: <span class="hljs-number">0</span><br>referrer-<span class="hljs-keyword">policy</span>: origin-<span class="hljs-keyword">when</span>-<span class="hljs-keyword">cross</span>-origin, <span class="hljs-keyword">strict</span>-origin-<span class="hljs-keyword">when</span>-<span class="hljs-keyword">cross</span>-origincontent-<span class="hljs-keyword">security</span>-<span class="hljs-keyword">policy</span>: <span class="hljs-keyword">default</span>-src <span class="hljs-string">&#x27;none&#x27;</span><br>content-<span class="hljs-keyword">encoding</span>: gzipx-ratelimit-<span class="hljs-keyword">limit</span>: <span class="hljs-number">60</span><br>x-ratelimit-remaining: <span class="hljs-number">55</span><br>x-ratelimit-<span class="hljs-keyword">reset</span>: <span class="hljs-number">1713337679</span><br>x-ratelimit-resource: corex-ratelimit-used: <span class="hljs-number">5</span><br>accept-ranges: bytesx-github-request-id: <span class="hljs-number">200</span>C:<span class="hljs-number">21</span>C6BE:<span class="hljs-number">267</span>A047:<span class="hljs-number">2720</span>F58:<span class="hljs-number">661</span>F7320<br></code></pre></td></tr></table></figure>

<h3 id="Key-Points"><a href="#Key-Points" class="headerlink" title="Key Points"></a>Key Points</h3><ul>
<li><strong>Deprecation of TLS 1.0 and 1.1:</strong><br>Android 10 disables TLS 1.0 and TLS 1.1 by default due to known vulnerabilities in these older protocols.</li>
<li><strong>Enhanced Security:</strong><br>By requiring TLS 1.2 or newer, Android 10 and later versions improve the security of network communications.</li>
<li><strong>Developer Implications:</strong><br>Apps that rely on legacy servers supporting only TLS 1.0 or TLS 1.1 may encounter connection issues on devices running Android 10 or higher. Developers are encouraged to update their server configurations and client code to support TLS 1.2 or TLS 1.3.</li>
<li><strong>Industry Alignment:</strong><br>This move is in line with broader industry trends, where many platforms and browsers have also phased out support for TLS 1.0 and 1.1.</li>
</ul>
<p>If you’re maintaining an app or server infrastructure, it’s important to verify that your connections support TLS 1.2 or higher to ensure compatibility with Android 10+ devices.</p>
<h2 id="Part-1-Generate-a-Self‑Signed-CA-and-Server-Certificate"><a href="#Part-1-Generate-a-Self‑Signed-CA-and-Server-Certificate" class="headerlink" title="Part 1: Generate a Self‑Signed CA and Server Certificate"></a>Part 1: Generate a Self‑Signed CA and Server Certificate</h2><h3 id="1-1-Create-the-Self‑Signed-CA"><a href="#1-1-Create-the-Self‑Signed-CA" class="headerlink" title="1.1 Create the Self‑Signed CA"></a>1.1 Create the Self‑Signed CA</h3><p>Generate the CA private key:</p>
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sas">openssl genrsa -<span class="hljs-keyword">out</span> ca.<span class="hljs-keyword">key</span> 4096<br></code></pre></td></tr></table></figure>

<p>Create the CA certificate (valid for 10 years in this example):</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vim">openssl req -x509 -<span class="hljs-keyword">new</span> -nodes -key <span class="hljs-keyword">ca</span>.key -<span class="hljs-built_in">sha256</span> -days <span class="hljs-number">3650</span> -out <span class="hljs-keyword">ca</span>.crt \<br>  -subj <span class="hljs-string">&quot;/C=US/ST=State/L=City/O=Organization/OU=OrgUnit/CN=MySelfSignedCA&quot;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-2-Create-the-Server-Certificate-with-IP-Address-in-SAN"><a href="#1-2-Create-the-Server-Certificate-with-IP-Address-in-SAN" class="headerlink" title="1.2 Create the Server Certificate with IP Address in SAN"></a>1.2 Create the Server Certificate with IP Address in SAN</h3><p>Create an OpenSSL configuration file (e.g., <code>server.cnf</code>) with the following contents (replace <code>192.168.1.100</code> with your server’s IP):</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs ini"><span class="hljs-section">[ req ]</span><br><span class="hljs-attr">default_bits</span>       = <span class="hljs-number">2048</span><br><span class="hljs-attr">prompt</span>             = <span class="hljs-literal">no</span><br><span class="hljs-attr">default_md</span>         = sha256<br><span class="hljs-attr">distinguished_name</span> = dn<br><span class="hljs-attr">req_extensions</span>     = req_ext<br><br><span class="hljs-section">[ dn ]</span><br><span class="hljs-attr">C</span>  = US<br><span class="hljs-attr">ST</span> = State<br><span class="hljs-attr">L</span>  = City<br><span class="hljs-attr">O</span>  = Organization<br><span class="hljs-attr">OU</span> = OrgUnit<br><span class="hljs-attr">CN</span> = <span class="hljs-number">192.168</span>.<span class="hljs-number">1.100</span>  <span class="hljs-comment"># Server IP</span><br><br><span class="hljs-section">[ req_ext ]</span><br><span class="hljs-attr">subjectAltName</span> = IP:<span class="hljs-number">192.168</span>.<span class="hljs-number">1.100</span>  <span class="hljs-comment"># Must match the server IP</span><br></code></pre></td></tr></table></figure>

<p>Generate the server private key:</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">openssl genrsa -<span class="hljs-keyword">out</span> <span class="hljs-keyword">server</span>.key <span class="hljs-number">2048</span><br></code></pre></td></tr></table></figure>

<p>Generate a Certificate Signing Request (CSR) using the configuration file:</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">openssl req -<span class="hljs-built_in">new</span> -key <span class="hljs-keyword">server</span>.key -<span class="hljs-keyword">out</span> <span class="hljs-keyword">server</span>.csr -config <span class="hljs-keyword">server</span>.cnf<br></code></pre></td></tr></table></figure>

<p>Sign the CSR with your CA to produce the server certificate (valid for 1 year in this example):</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">openssl x509 -req -<span class="hljs-keyword">in</span> server<span class="hljs-selector-class">.csr</span> -CA ca<span class="hljs-selector-class">.crt</span> -CAkey ca<span class="hljs-selector-class">.key</span> -CAcreateserial \<br>  -out server<span class="hljs-selector-class">.crt</span> -days <span class="hljs-number">365</span> -sha256 -extfile server<span class="hljs-selector-class">.cnf</span> -extensions req_ext<br></code></pre></td></tr></table></figure>

<h3 id="1-3-Create-a-PKCS12-Keystore-for-Spring-Boot"><a href="#1-3-Create-a-PKCS12-Keystore-for-Spring-Boot" class="headerlink" title="1.3 Create a PKCS12 Keystore for Spring Boot"></a>1.3 Create a PKCS12 Keystore for Spring Boot</h3><p>Combine the server key and certificate into a PKCS12 keystore:</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">openssl pkcs12 -export -<span class="hljs-keyword">in</span> <span class="hljs-keyword">server</span>.crt -inkey <span class="hljs-keyword">server</span>.key -<span class="hljs-keyword">out</span> <span class="hljs-keyword">server</span>.p12 \<br>  -<span class="hljs-type">name</span> springboot -CAfile ca.crt -caname root<br></code></pre></td></tr></table></figure>

<h2 id="Part-2-Configure-Spring-Boot-for-TLSv1-3"><a href="#Part-2-Configure-Spring-Boot-for-TLSv1-3" class="headerlink" title="Part 2: Configure Spring Boot for TLSv1.3"></a>Part 2: Configure Spring Boot for TLSv1.3</h2><p>Place the generated <code>server.p12</code> into your Spring Boot application’s resources (e.g., <code>src/main/resources</code>) and add the following configuration to your <code>application.properties</code> (or equivalent YAML file):</p>
<p>properties</p>
<p>Copy</p>
<p><code>server.port=8443 server.ssl.key-store=classpath:server.p12 server.ssl.key-store-password=yourpassword  # Use the password set above server.ssl.keyStoreType=PKCS12 server.ssl.keyAlias=springboot server.ssl.enabled-protocols=TLSv1.3</code></p>
<p><em>Note:</em> Ensure your Java version is 11 or later for TLSv1.3 support.</p>
<h2 id="Part-3-Android-OkHttp-Demo-with-a-Self‑Signed-Certificate"><a href="#Part-3-Android-OkHttp-Demo-with-a-Self‑Signed-Certificate" class="headerlink" title="Part 3: Android OkHttp Demo with a Self‑Signed Certificate"></a>Part 3: Android OkHttp Demo with a Self‑Signed Certificate</h2><p>When using a self‑signed certificate on Android, the client must trust your CA. One common approach is to bundle the CA certificate (e.g., <code>ca.crt</code>) in the app’s assets and use it to configure OkHttp with a custom SSL context.</p>
<h3 id="3-1-Place-the-CA-Certificate-in-Assets"><a href="#3-1-Place-the-CA-Certificate-in-Assets" class="headerlink" title="3.1 Place the CA Certificate in Assets"></a>3.1 Place the CA Certificate in Assets</h3><ul>
<li>Copy your <code>ca.crt</code> file into the <code>assets</code> folder of your Android project.</li>
</ul>
<h3 id="3-2-OkHttp-Demo-Code"><a href="#3-2-OkHttp-Demo-Code" class="headerlink" title="3.2 OkHttp Demo Code"></a>3.2 OkHttp Demo Code</h3><p>Below is an example Java class demonstrating how to load the CA from assets, configure the SSL context for TLSv1.3, and make an asynchronous HTTPS request using OkHttp. Make sure to execute network calls off the main thread (this example uses a separate thread):</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> android.content.Context;<br><span class="hljs-keyword">import</span> android.util.Log;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.security.KeyStore;<br><span class="hljs-keyword">import</span> java.security.cert.Certificate;<br><span class="hljs-keyword">import</span> java.security.cert.CertificateFactory;<br><span class="hljs-keyword">import</span> javax.net.ssl.SSLContext;<br><span class="hljs-keyword">import</span> javax.net.ssl.TrustManager;<br><span class="hljs-keyword">import</span> javax.net.ssl.TrustManagerFactory;<br><span class="hljs-keyword">import</span> javax.net.ssl.X509TrustManager;<br><span class="hljs-keyword">import</span> okhttp3.Call;<br><span class="hljs-keyword">import</span> okhttp3.Callback;<br><span class="hljs-keyword">import</span> okhttp3.OkHttpClient;<br><span class="hljs-keyword">import</span> okhttp3.Request;<br><span class="hljs-keyword">import</span> okhttp3.Response;<br><span class="hljs-keyword">import</span> javax.net.ssl.HostnameVerifier;<br><span class="hljs-keyword">import</span> javax.net.ssl.SSLSession;<br><span class="hljs-keyword">import</span> java.io.IOException;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OkHttpSelfSignedDemo</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">makeRequest</span><span class="hljs-params">(<span class="hljs-keyword">final</span> Context context)</span> &#123;<br>        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>(() -&gt; &#123;<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">// Load the CA certificate from the assets folder</span><br>                <span class="hljs-type">CertificateFactory</span> <span class="hljs-variable">cf</span> <span class="hljs-operator">=</span> CertificateFactory.getInstance(<span class="hljs-string">&quot;X.509&quot;</span>);<br>                <span class="hljs-type">InputStream</span> <span class="hljs-variable">caInput</span> <span class="hljs-operator">=</span> context.getAssets().open(<span class="hljs-string">&quot;ca.crt&quot;</span>);<br>                <span class="hljs-type">Certificate</span> <span class="hljs-variable">ca</span> <span class="hljs-operator">=</span> cf.generateCertificate(caInput);<br>                caInput.close();<br><br>                <span class="hljs-comment">// Create a KeyStore containing the trusted CA</span><br>                <span class="hljs-type">KeyStore</span> <span class="hljs-variable">keyStore</span> <span class="hljs-operator">=</span> KeyStore.getInstance(KeyStore.getDefaultType());<br>                keyStore.load(<span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>);<br>                keyStore.setCertificateEntry(<span class="hljs-string">&quot;ca&quot;</span>, ca);<br><br>                <span class="hljs-comment">// Create a TrustManager that trusts the CA in our KeyStore</span><br>                <span class="hljs-type">TrustManagerFactory</span> <span class="hljs-variable">tmf</span> <span class="hljs-operator">=</span> TrustManagerFactory.getInstance(<br>                        TrustManagerFactory.getDefaultAlgorithm());<br>                tmf.init(keyStore);<br>                TrustManager[] trustManagers = tmf.getTrustManagers();<br>                <span class="hljs-type">X509TrustManager</span> <span class="hljs-variable">trustManager</span> <span class="hljs-operator">=</span> <span class="hljs-literal">null</span>;<br>                <span class="hljs-keyword">for</span> (TrustManager tm : trustManagers) &#123;<br>                    <span class="hljs-keyword">if</span> (tm <span class="hljs-keyword">instanceof</span> X509TrustManager) &#123;<br>                        trustManager = (X509TrustManager) tm;<br>                        <span class="hljs-keyword">break</span>;<br>                    &#125;<br>                &#125;<br>                <span class="hljs-keyword">if</span> (trustManager == <span class="hljs-literal">null</span>) &#123;<br>                    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IllegalStateException</span>(<span class="hljs-string">&quot;No X509TrustManager found&quot;</span>);<br>                &#125;<br><br>                <span class="hljs-comment">// Create an SSLContext for TLSv1.3</span><br>                <span class="hljs-type">SSLContext</span> <span class="hljs-variable">sslContext</span> <span class="hljs-operator">=</span> SSLContext.getInstance(<span class="hljs-string">&quot;TLSv1.3&quot;</span>);<br>                sslContext.init(<span class="hljs-literal">null</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">TrustManager</span>[]&#123;trustManager&#125;, <span class="hljs-literal">null</span>);<br><br>                <span class="hljs-comment">// Build the OkHttpClient with the custom SSL settings</span><br>                <span class="hljs-type">OkHttpClient</span> <span class="hljs-variable">client</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">OkHttpClient</span>.Builder()<br>                        .sslSocketFactory(sslContext.getSocketFactory(), trustManager)<br>                        .hostnameVerifier(<span class="hljs-keyword">new</span> <span class="hljs-title class_">HostnameVerifier</span>() &#123;<br>                            <span class="hljs-meta">@Override</span><br>                            <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">verify</span><span class="hljs-params">(String hostname, SSLSession session)</span> &#123;<br>                                <span class="hljs-comment">// Accept the specific IP address (replace with your actual server IP)</span><br>                                <span class="hljs-keyword">return</span> hostname.equals(<span class="hljs-string">&quot;192.168.1.100&quot;</span>);<br>                            &#125;<br>                        &#125;)<br>                        .build();<br><br>                <span class="hljs-comment">// Build and execute the HTTPS request (adjust URL, port, and path as needed)</span><br>                <span class="hljs-type">Request</span> <span class="hljs-variable">request</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Request</span>.Builder()<br>                        .url(<span class="hljs-string">&quot;https://192.168.1.100:8443/&quot;</span>)<br>                        .build();<br><br>                client.newCall(request).enqueue(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Callback</span>() &#123;<br>                    <span class="hljs-meta">@Override</span><br>                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onFailure</span><span class="hljs-params">(Call call, IOException e)</span> &#123;<br>                        Log.e(<span class="hljs-string">&quot;OkHttpDemo&quot;</span>, <span class="hljs-string">&quot;Request failed&quot;</span>, e);<br>                    &#125;<br><br>                    <span class="hljs-meta">@Override</span><br>                    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onResponse</span><span class="hljs-params">(Call call, Response response)</span> <span class="hljs-keyword">throws</span> IOException &#123;<br>                        <span class="hljs-keyword">if</span> (!response.isSuccessful()) &#123;<br>                            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IOException</span>(<span class="hljs-string">&quot;Unexpected code &quot;</span> + response);<br>                        &#125;<br>                        <span class="hljs-type">String</span> <span class="hljs-variable">responseBody</span> <span class="hljs-operator">=</span> response.body().string();<br>                        Log.d(<span class="hljs-string">&quot;OkHttpDemo&quot;</span>, <span class="hljs-string">&quot;Response: &quot;</span> + responseBody);<br>                    &#125;<br>                &#125;);<br>            &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>                Log.e(<span class="hljs-string">&quot;OkHttpDemo&quot;</span>, <span class="hljs-string">&quot;Error setting up HTTPS connection&quot;</span>, e);<br>            &#125;<br>        &#125;).start();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>HTTPS</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/wolf-python-lily/p/17945001">Springboot配置openssl生成的证书 - lovelylily - 博客园</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7119487774461263902">Springboot 证书配置实战Springboot证书配置实战 创建证书 生成CA证书 生成CA证书 将CA证书加到 - 掘金</a></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/NETWORK/" class="category-chain-item">NETWORK</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>http_ca</div>
      <div>https://noteforme.github.io/2024/05/15/https_ca/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>Jon</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>May 15, 2024</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/05/20/equipment/" title="LIFE-Equipment ear">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">LIFE-Equipment ear</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/05/15/cache-file/" title="Cache File">
                        <span class="hidden-mobile">Cache File</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
